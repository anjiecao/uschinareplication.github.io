
//Ebbinghaus 
//phase 1 prepractice instruction
ebbinghaus_phase_1_prepractice_instruction_1 = '<img src="images/ebb_illu/instruction/Ephase_1_prepractice_1.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_1_prepractice_instruction_2 ='<img src="images/ebb_illu/instruction/Ephase_1_prepractice_2.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_1_prepractice_instruction_2b ='<img src="images/ebb_illu/instruction/Ephase_1_prepractice_2b.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_1_prepractice_instruction_3 ='<img src="images/ebb_illu/instruction/Ephase_1_prepractice_3.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_1_prepractice_instruction_4 ='<img src="images/ebb_illu/instruction/Ephase_1_prepractice_4.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_1_prepractice_instruction_5 ='<img src="images/ebb_illu/instruction/Ephase_1_prepractice_5.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_1_prepractice_instruction_6 ='<img src="images/ebb_illu/instruction/Ephase_1_prepractice_6.jpeg" style="width:800px;height:600px;">'

ebbinghaus_phase_1_prepractice_ready = "<p>Let's practice the game.</p> <p> Ready?</p>"
ebbinghaus_phase_1_prepractice_readyButton = 'Yes!'
// phase 1 practice: 
ebbinghaus_phase_1_practice_prompt = "<p>Which circle is a larger circle?</p>"

// feedback
ebbinghaus_practice_feedback_yes = "Great!"
ebbinghaus_practice_feedback_no = "<p>Oops, remember to press the button under the larger circle!</p><p> Let's try that again!</p>"

//phase 1 post-practice instruction
ebbinghaus_phase_1_postpractice_instruction_1 = '<img src="images/ebb_illu/instruction/Ephase_1_postpractice_1.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_1_postpractice_instruction_1b = '<img src="images/ebb_illu/instruction/Ephase_1_postpractice_1b.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_1_postpractice_instruction_2 ='<img src="images/ebb_illu/instruction/Ephase_1_postpractice_2.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_1_postpractice_instruction_3 ='<img src="images/ebb_illu/instruction/Ephase_1_postpractice_3.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_1_postpractice_instruction_4 ='<img src="images/ebb_illu/instruction/Ephase_1_postpractice_4.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_1_postpractice_instruction_5 ='<img src="images/ebb_illu/instruction/Ephase_1_postpractice_5.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_1_postpractice_ready = "<p>You will get 10 questions like this, with a short pause between questions. </p><p>During the pause, an image like the one below will flash on the screen, but all you need to do is wait for the next question.</p><img src=\"images/ebb_illu/mask/mask1.png\" style=\"width:400px;height:200px;\"><p>Some may be difficult, but then you can make a guess. Ready?</p>"
ebbinghaus_phase_1_postpractice_readyButton = 'Yes!'
ebbinghaus_phase_1_prompt = "<p>Which circle is a larger circle?</p>"

//phase 2 prepractice instruction
ebbinghaus_phase_2_prepractice_instruction_1 = '<img src="images/ebb_illu/instruction/Ephase_2_prepractice_1.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_prepractice_instruction_2 = '<img src="images/ebb_illu/instruction/Ephase_2_prepractice_2.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_prepractice_instruction_3 = '<img src="images/ebb_illu/instruction/Ephase_2_prepractice_3.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_prepractice_instruction_4 = '<img src="images/ebb_illu/instruction/Ephase_2_prepractice_4.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_prepractice_instruction_5 = '<img src="images/ebb_illu/instruction/Ephase_2_prepractice_5.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_prepractice_instruction_6 = '<img src="images/ebb_illu/instruction/Ephase_2_prepractice_6.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_prepractice_instruction_7 = '<img src="images/ebb_illu/instruction/Ephase_2_prepractice_7.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_prepractice_instruction_8 = '<img src="images/ebb_illu/instruction/Ephase_2_prepractice_8.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_prepractice_instruction_9 = '<img src="images/ebb_illu/instruction/Ephase_2_prepractice_9.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_prepractice_instruction_10 = '<img src="images/ebb_illu/instruction/Ephase_2_prepractice_10.jpeg" style="width:800px;height:600px;">'

ebbinghaus_phase_2_prepractice_ready_prompt = "<p>Let's try one.</p> <p> Ready?</p>"
ebbinghaus_phase_2_prepractice_readyButton =  'Yes!'   
ebbinghaus_phase_2_practice_prompt = "<p>Which organge circle is a larger circle?</p>"

ebbinghaus_phase_2_postpractice_instruction_1 = '<img src="images/ebb_illu/instruction/Ephase_2_postpractice_1.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_postpractice_instruction_1b = '<img src="images/ebb_illu/instruction/Ephase_2_postpractice_1b.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_postpractice_instruction_2 = '<img src="images/ebb_illu/instruction/Ephase_2_postpractice_2.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_postpractice_instruction_3 = '<img src="images/ebb_illu/instruction/Ephase_2_postpractice_3.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_postpractice_instruction_4 = '<img src="images/ebb_illu/instruction/Ephase_2_postpractice_4.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_postpractice_instruction_5 = '<img src="images/ebb_illu/instruction/Ephase_2_postpractice_5.jpeg" style="width:800px;height:600px;">'
ebbinghaus_phase_2_postpractice_instruction_6 = '<img src="images/ebb_illu/instruction/Ephase_2_postpractice_6.jpeg" style="width:800px;height:600px;">'

ebbinghaus_phase_2_postpractice_ready_prompt = "<p>You will get 24 questions like this, with a short pause between questions.</p><p> During the pause, an image like the one below will flash on the screen, but all you need to do is wait for the next question.</p><img src=\"images/ebb_illu/mask/mask1.png\" style=\"width:400px;height:200px;\"><p>Now we are going to play the game for real, are you ready?</p>"
ebbinghaus_phase_2_postpractice_readyButton = "Yes!"
ebbinghaus_phase_2_prompt = "<p>Which orange circle is a larger circle?</p>"
ebbinghaus_finished_prompt = "<p>We are done with this game.</p><p>Thank you!</p>"
ebbinghaus_finished_nextButton = 'Next Game'


var ebbinghaus_prepractice_instruction_kid = {
        type: 'instructions', 
        pages: [
            ebbinghaus_phase_1_prepractice_instruction_1,
            ebbinghaus_phase_1_prepractice_instruction_2,
            ebbinghaus_phase_1_prepractice_instruction_3,
            ebbinghaus_phase_1_prepractice_instruction_4,
            ebbinghaus_phase_1_prepractice_instruction_5,
            ebbinghaus_phase_1_prepractice_instruction_6],
        show_clickable_nav: true,
        show_page_number: true  
        
    }
    
var ebbinghaus_prepractice_instruction_adult = {
        type: 'instructions', 
        pages: [
            ebbinghaus_phase_1_prepractice_instruction_1,
            ebbinghaus_phase_1_prepractice_instruction_2,
            ebbinghaus_phase_1_prepractice_instruction_2b,
            ebbinghaus_phase_1_prepractice_instruction_3,
            ebbinghaus_phase_1_prepractice_instruction_4,
            ebbinghaus_phase_1_prepractice_instruction_5,
            ebbinghaus_phase_1_prepractice_instruction_6],
        show_clickable_nav: true,
        show_page_number: true  
        
    }
    
    
var ebbinghaus_prepractice_ready = {
        type: 'task-instructions',
        pages: [ebbinghaus_phase_1_prepractice_ready],
        allow_backward: false, 
        show_clickable_nav: true,
        button_label_next: ebbinghaus_phase_1_prepractice_readyButton,
        show_page_number: true
    }
        
    
    
var ebbinghaus_first_practice_keyboard_a = {
           type: 'ebbinghaus-keyboard-practice',
           stimulus: 'images/ebb_illu/Practice_80_125.jpg', 
           choices: ['z', 'm'],
    	   prompt: ebbinghaus_phase_1_practice_prompt,         correct_response:jsPsych.pluginAPI.convertKeyCharacterToKeyCode('m'), 
           feedback_provided: true, 
           feedback_duration: 3000,
           feedback_yes: ebbinghaus_practice_feedback_yes, 
           feedback_no: ebbinghaus_practice_feedback_no}
    
var while_loop_first_practice_keyboard_a = {
        timeline: [ebbinghaus_first_practice_keyboard_a], 
        loop_function: function(data){
            if(data.values()[0].key_press == jsPsych.pluginAPI.convertKeyCharacterToKeyCode('m')){
                return false; 
               }else{
                   return true; 
               }
        }   
    }
    
var ebbinghaus_first_practice_keyboard_b = {
           type: 'ebbinghaus-keyboard-practice',
           stimulus: 'images/ebb_illu/Practice_125_80.jpg', 
           choices: ['z', 'm'],
    	   prompt: ebbinghaus_phase_1_practice_prompt,         correct_response:jsPsych.pluginAPI.convertKeyCharacterToKeyCode('z'), 
           feedback_provided: true, 
           feedback_duration: 3000, 
           feedback_yes: ebbinghaus_practice_feedback_yes, 
           feedback_no: ebbinghaus_practice_feedback_no
    }
    
var while_loop_first_practice_keyboard_b = {
        timeline: [ebbinghaus_first_practice_keyboard_b], 
        loop_function: function(data){
            if(data.values()[0].key_press == jsPsych.pluginAPI.convertKeyCharacterToKeyCode('z')){
                return false; 
               }else{
                   return true; 
               }
        }   
    }
    
   
var ebbinghaus_post_practice_instruction = {
        type: 'instructions', 
        pages: [
            ebbinghaus_phase_1_postpractice_instruction_1,
            ebbinghaus_phase_1_postpractice_instruction_1b,
            ebbinghaus_phase_1_postpractice_instruction_2,
            ebbinghaus_phase_1_postpractice_instruction_3,
            ebbinghaus_phase_1_postpractice_instruction_4,
            ebbinghaus_phase_1_postpractice_instruction_5],
        show_clickable_nav: true,
        show_page_number: true  
        
    }
   
var ebbinghaus_first_block_ready = {
        type: 'task-instructions',
        pages: [ebbinghaus_phase_1_postpractice_ready],
        allow_backward: false, 
        show_clickable_nav: true,
        button_label_next: ebbinghaus_phase_1_postpractice_readyButton,
        show_page_number: true
    } 
        
    

    /*
    var ebbinghaus_filler_procedure = {
        timeline: [ebbinghaus_filler],
        timeline_variables: [
            {"image": 'images/ebb_illu/mask/mask1.png'},
            {"image": 'images/ebb_illu/mask/mask2.png'},
            {"image": 'images/ebb_illu/mask/mask3.png'},
            {"image": 'images/ebb_illu/mask/mask4.png'},
            {"image": 'images/ebb_illu/mask/mask5.png'},
            {"image": 'images/ebb_illu/mask/mask6.png'},
            {"image": 'images/ebb_illu/mask/mask7.png'},
            ,       
        ],
        randomize_order: true
    }
    */
    
    
var ebbinghaus_first_block_procedure = {
        timeline: [
            { type: 'ebbinghaus-keyboard',
            stimulus:jsPsych.timelineVariable('pic'),
    	   choices: ['z', 'm'],
    	   prompt: ebbinghaus_phase_1_prompt}, 
            
           {
        type: 'image-keyboard-response',
        stimulus: function(){
                return jsPsych.randomization.sampleWithoutReplacement(['images/ebb_illu/mask/mask1.png', 'images/ebb_illu/mask/mask2.png','images/ebb_illu/mask/mask3.png', 'images/ebb_illu/mask/mask4.png', 'images/ebb_illu/mask/mask5.png', 'images/ebb_illu/mask/mask6.png', 'images/ebb_illu/mask/mask7.png'], 1)[0];
                    },
        
        trial_duration: 200,
        choices: jsPsych.NO_KEYS
        
            },
            
        
            
            {
                type: 'image-keyboard-response',
                stimulus: 'images/ebb_illu/mask/empty.jpeg',
                trial_duration: 1000,
                choices: jsPsych.NO_KEYS
            }
        ],
        
        
        
        timeline_variables: [
            {'pic': 'images/ebb_illu/N_82_100.jpg'},
            {'pic': 'images/ebb_illu/N_90_100.jpg'},
            {'pic': 'images/ebb_illu/N_98_100.jpg'},
            {'pic': 'images/ebb_illu/N_100_86.jpg'},
            {'pic': 'images/ebb_illu/N_100_94.jpg'},
            {'pic': 'images/ebb_illu/N_100_102.jpg'},
            {'pic': 'images/ebb_illu/N_100_110.jpg'},
            {'pic': 'images/ebb_illu/N_100_118.jpg'},
            {'pic': 'images/ebb_illu/N_106_100.jpg'},
            {'pic': 'images/ebb_illu/N_114_100.jpg'},
                       
        ],
        
        randomize_order: true
        
        
        
    }
    
    var p = jsPsych.timelineVariable('pic')
        console.log(p)
    
    var ebbinghaus_second_block_prepractice_instruction = {
        type: 'instructions', 
        pages: [ 
            ebbinghaus_phase_2_prepractice_instruction_1,
            ebbinghaus_phase_2_prepractice_instruction_2,
            ebbinghaus_phase_2_prepractice_instruction_3,
            ebbinghaus_phase_2_prepractice_instruction_4,
            ebbinghaus_phase_2_prepractice_instruction_5,
            ebbinghaus_phase_2_prepractice_instruction_6,
            ebbinghaus_phase_2_prepractice_instruction_7,
            ebbinghaus_phase_2_prepractice_instruction_8,
            ebbinghaus_phase_2_prepractice_instruction_9,
            ebbinghaus_phase_2_prepractice_instruction_10],
        show_clickable_nav: true,
        show_page_number: true  
        
    }
    
    var ebbinghaus_second_block_prepractice_ready = {
        type: 'task-instructions',
        pages: [ebbinghaus_phase_2_prepractice_ready_prompt],
        allow_backward: false, 
        show_clickable_nav: true,
        button_label_next: ebbinghaus_phase_2_prepractice_readyButton,
        show_page_number: true
    }
        
    
    
    
    var ebbinghaus_second_practice_keyboard = {
          type: 'ebbinghaus-keyboard-practice',
          stimulus: 'images/ebb_illu/Practice_70-125_102-50.jpg', 
          choices: ['z', 'm'],
    	   prompt: ebbinghaus_phase_2_practice_prompt,
           correct_response: jsPsych.pluginAPI.convertKeyCharacterToKeyCode('m'), 
           feedback_provided: true, 
           feedback_duration: 3000,
           feedback_yes: ebbinghaus_practice_feedback_yes, 
           feedback_no: ebbinghaus_practice_feedback_no}
    
    var while_loop_second_practice_keyboard = {
        timeline: [ebbinghaus_second_practice_keyboard], 
        loop_function: function(data){
            if(data.values()[0].key_press == jsPsych.pluginAPI.convertKeyCharacterToKeyCode('m')){
                return false; 
               }else{
                   return true; 
               }
        }}
    
    
    
    
    var ebbinghaus_second_block_postpractice_instruction = {
        type: 'instructions', 
        pages: [
            ebbinghaus_phase_2_postpractice_instruction_1,
            ebbinghaus_phase_2_postpractice_instruction_1b,
            ebbinghaus_phase_2_postpractice_instruction_2,
            ebbinghaus_phase_2_postpractice_instruction_3,
            ebbinghaus_phase_2_postpractice_instruction_4,
            ebbinghaus_phase_2_postpractice_instruction_5,
            ebbinghaus_phase_2_postpractice_instruction_6],
        show_clickable_nav: true,
        show_page_number: true  
        
    }
    
    
    var ebbinghaus_second_block_ready = {
        type: 'task-instructions',
        pages: [ebbinghaus_phase_2_postpractice_ready_prompt],
        allow_backward: false, 
        show_clickable_nav: true,
        button_label_next: ebbinghaus_phase_2_postpractice_readyButton,
        show_page_number: true
    } 
    
             
        
    // Ebbinghaus illusion procedure
    var ebbinghaus_second_block = {
        //display_element: 'jspsych-target,
        timeline: [
            
            {type: 'ebbinghaus-keyboard',
            stimulus:jsPsych.timelineVariable('pic'),
    	   choices: ['z', 'm'],
    	   prompt: ebbinghaus_phase_2_prompt},
            
             {
        type: 'image-keyboard-response',
        stimulus: function(){
                return jsPsych.randomization.sampleWithoutReplacement(['images/ebb_illu/mask/mask1.png', 'images/ebb_illu/mask/mask2.png','images/ebb_illu/mask/mask3.png', 'images/ebb_illu/mask/mask4.png', 'images/ebb_illu/mask/mask5.png', 'images/ebb_illu/mask/mask6.png', 'images/ebb_illu/mask/mask7.png'], 1)[0];
                    },
        
        trial_duration: 200,
        choices: jsPsych.NO_KEYS
        
            },
            {
                type: 'image-keyboard-response',
                stimulus: 'images/ebb_illu/mask/empty.jpeg',
                trial_duration: 1000,
                choices: jsPsych.NO_KEYS
            }
        ],
            
        timeline_variables: [
            {pic: 'images/ebb_illu/H_98-125_100-50.jpg'},
            {pic: 'images/ebb_illu/H_100-50_98-125.jpg'},
            {pic: 'images/ebb_illu/H_100-125_102-50.jpg'},
            {pic: 'images/ebb_illu/H_102-50_100-125.jpg'},
            {pic: 'images/ebb_illu/I_82-50_100-125.jpg'},
            {pic: 'images/ebb_illu/I_86-50_100-125.jpg'},
            {pic: 'images/ebb_illu/I_90-50_100-125.jpg'},
            {pic: 'images/ebb_illu/I_94-50_100-125.jpg'},
            {pic: 'images/ebb_illu/I_98-50_100-125.jpg'},
            {pic: 'images/ebb_illu/I_100-50_102-125.jpg'},
            {pic: 'images/ebb_illu/I_100-50_106-125.jpg'},
            {pic: 'images/ebb_illu/I_100-50_110-125.jpg'},
            {pic: 'images/ebb_illu/I_100-50_114-125.jpg'},
            {pic: 'images/ebb_illu/I_100-50_118-125.jpg'},
            {pic: 'images/ebb_illu/I_100-125_82-50.jpg'},
            {pic: 'images/ebb_illu/I_100-125_86-50.jpg'},
            {pic: 'images/ebb_illu/I_100-125_90-50.jpg'},
            {pic: 'images/ebb_illu/I_100-125_94-50.jpg'},
            {pic: 'images/ebb_illu/I_100-125_98-50.jpg'},
            {pic: 'images/ebb_illu/I_102-125_100-50.jpg'},
            {pic: 'images/ebb_illu/I_106-125_100-50.jpg'},
            {pic: 'images/ebb_illu/I_110-125_100-50.jpg'},
            {pic: 'images/ebb_illu/I_114-125_100-50.jpg'},
            {pic: 'images/ebb_illu/I_118-125_100-50.jpg'}
        ],
        randomize_order: true
        
    }
    
    
    
    
    
    var ebbinghaus_finished = {
        type: 'task-instructions',
        pages: [ebbinghaus_finished_prompt],
        allow_backward: false, 
        show_clickable_nav: true,
        button_label_next: ebbinghaus_finished_nextButton,
        show_page_number: true
    } 
    